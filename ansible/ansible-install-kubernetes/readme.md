Необходимо исправить установку docker. 
Сейчас перед установкой докер добавляется apt-репозиторий для ubuntu bionic (18 версия).
Необходимо сделать так, чтобы добавлялся репозиторий на основе того какая версия ос установлена.
Для этого необходимо в ansible-playbook для добавления репозитория,
в простом случае, использовать скрипт, который с официального сайта docker,
который именно это и делать и вместо задачи apt_repository использовать shell.
В сложном случае, можно попытаться как-то извлечь эту инфу другими задачами.
И затем передать как переменные в задачу apt_repository.

Итог, считаю, что надо выбрать простой путь.
